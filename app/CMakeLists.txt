# Brief: Builds firmware source generated by STM32CubeMX.
#
# Author:  Windsor Schmidt. | https://github.com/windsorschmidt
# License: MIT License. Contributions welcome.




set(APP_DIR ${CMAKE_SOURCE_DIR}/app)

# Look here for header files.


file(GLOB_RECURSE SRC
  ${APP_DIR}/*.c
)


list(APPEND APP_INC_FILES
  ${APP_DIR}
  ${APP_DIR}/Control
  ${APP_DIR}/Device
  ${APP_DIR}/Device/I2c
  ${APP_DIR}/Device/Serial
  ${APP_DIR}/LinearBuffer
  ${APP_DIR}/RingBuffer
  ${APP_DIR}/Log
  ${APP_DIR}/IMU
)

list(APPEND APP_SOURCE_FILES
  ${SRC}
)

set(APP_SOURCE_FILES ${APP_SOURCE_FILES} PARENT_SCOPE)
set(APP_INC_FILES ${APP_INC_FILES} PARENT_SCOPE)